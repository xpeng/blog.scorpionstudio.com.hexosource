title: "【CH世界大事记-2】"
date: 2007-11-26 22:28:58
categories: blog
tags: [blog,article,dev,simulation]
---    
<div style="text-align:center;"><img src="http://blog.scorpionstudio.com/20071126_1.jpg" style="vertical-align:middle;"/></div>
<div style="text-align:center;">个体增加了“eat”动作，目标“food”可以被吃掉，然后随机在另外一个地方产生</div>  

　　接上回的系统设定，这次我将场景中预置了100个“food”Object，每个food可以被吃掉，吃掉后的food在1秒钟后随机地在另外一个地方重生。个体增加一个输出用以激活“eat”行为，该行为在离最近的一个food 50单位的距离内生效，无效的eat行为会受到减hp的惩罚。eat行为成功后，个体将增加hp。不再以个体靠近food与否进行加分。  
　　这回我们看能设计出什么样的个体来！由于目前场景和个体行为简单，我们可以人工分析出最后最优个体的行为模式来比对！但是在将来复杂的环境，甚至本身就在进化的环境中，我相信个体行为会让我们大吃一惊的！  
  
　　加载上次运行的结果（个体大脑NN的基因），刚开始运行时可以看到大部分个体围着food打转，由于新输出的“eat”行为目前几乎随机产生，因此个体受到惩罚较大，死亡还是较快的。运行一段时间后，可以看到有些个体不但能“吃掉”身边的food，还能够在吃掉后赶紧跑到另外的最近food处继续。  
  
　　这里需要说明一下，GNN（进化神经网络）的优势是可以“记忆”之前的进化结果，即之前的基因结构被有效保留，个体在新的环境中可以利用旧的知识进行活动。因此可以看到，该系统中一个环境的逐渐改变能够导致物种的逐渐进化，如果环境突变，个体将大灭绝，这和自然界非常相似！从程序设计的角度讲，不会因为环境新的改变（food要消失并且在他处出现）和个体新的行为（增加eat行为）而从零开始去运行进化程序，个体基因（实际上就是代表该物种的设计）能适当地适应新的环境、正确发出新的行为，并且仍然能有效地继续优化（进化）。  
  
　　BTW，在前天的个体输入处理上（视觉传感器），我犯了一个极大的错误，没有考虑进个体当前的方向。现在据我分析，由于food目标的不变以及hp增减的算法固定，因此仍然能够进化出来像昨天那样的结果，即某种局部最优解。今天发现这个问题后我立即修正了ant的视觉传感器，天，其实在昨天的情况下，不到3分钟便能进化出相当高效的行动模式来了，而且更加真实合理。今天的新场景也能够相当快地进化出可观的结果（都是几分钟）。